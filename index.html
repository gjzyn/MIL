<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Timeline</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- CORE VARIABLES --- */
        :root {
            --primary-color: #4facfe;
            --secondary-color: #00f2fe;
            --bg-color: #0f0f13;
            --card-bg: rgba(43, 43, 54, 0.95);
            --text-color: #fff;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden; 
            /* Desktop uses custom scroll logic, Mobile uses native */
            overflow-y: scroll; 
            
            background-image: 
                linear-gradient(rgba(15, 15, 19, 0.92), rgba(15, 15, 19, 0.92)),
                linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, .05) 25%, rgba(255, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .05) 75%, rgba(255, 255, 255, .05) 76%, transparent 77%, transparent),
                linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, .05) 25%, rgba(255, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .05) 75%, rgba(255, 255, 255, .05) 76%, transparent 77%, transparent);
            background-size: 50px 50px;
        }

        /* Hide scrollbar on Desktop for cleaner look */
        @media screen and (min-width: 769px) {
            body::-webkit-scrollbar { width: 0px; background: transparent; }
        }

        /* --- DESKTOP HEADER --- */
        .fixed-header {
            position: fixed; 
            top: 25px; 
            left: 0; width: 100%; z-index: 100;
            display: flex; flex-direction: column; align-items: center;
            pointer-events: none;
        }
        .fixed-header h1 {
            font-size: 3.5rem; text-transform: uppercase; letter-spacing: 3px; margin: 0;
            line-height: 1.1;
            background: linear-gradient(to right, #ffffff, #a0a0a0);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.8));
            text-align: center;
        }
        .fixed-header p { 
            color: var(--secondary-color); font-size: 1rem; margin-top: 8px; opacity: 0.9; 
            letter-spacing: 1px; text-shadow: 0 2px 4px rgba(0,0,0,0.8); text-align: center;
        }
        .scroll-icon { 
            display: block; margin-top: 12px; font-size: 1.2rem; color: #fff; opacity: 0.6;
            animation: bounce 2s infinite; 
        }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-5px);} 60% {transform: translateY(-3px);} }

        /* --- DESKTOP VIEWPORT --- */
        .viewport {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100vh;
            overflow: hidden;
            display: flex; align-items: center; 
            padding-top: 80px; 
            perspective: 1500px;
        }

        .timeline-track {
            display: flex; align-items: center;
            padding-left: 10vw; padding-right: 50vw; 
            position: absolute; height: 100%;
            will-change: transform; 
        }

        /* The Horizontal Blue Line (Desktop) */
        .central-line {
            position: absolute; top: 50%; height: 4px; 
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            box-shadow: 0 0 20px var(--primary-color); 
            z-index: 0; border-radius: 4px;
        }

        /* --- DESKTOP CARDS --- */
        .card-wrapper {
            position: relative; width: 480px; height: 580px; 
            flex-shrink: 0; display: flex; justify-content: center;
            margin: 0 50px; 
        }
        /* The Dots */
        .card-wrapper::after {
            content: ''; position: absolute; width: 20px; height: 20px;
            background: var(--bg-color); border: 4px solid #fff; border-radius: 50%;
            top: 50%; left: 50%; transform: translate(-50%, -50%);
            z-index: 2; box-shadow: 0 0 15px #fff;
        }

        .card-wrapper.top { align-items: flex-start; }
        .card-wrapper.top .connection-line {
            position: absolute; height: 50%; width: 1px;
            background: linear-gradient(to top, rgba(255,255,255,0.6), transparent); 
            bottom: 0; left: 50%;
        }
        .card-wrapper.bottom { align-items: flex-end; }
        .card-wrapper.bottom .connection-line {
            position: absolute; height: 50%; width: 1px;
            background: linear-gradient(to bottom, rgba(255,255,255,0.6), transparent); 
            top: 0; left: 50%;
        }

        .content {
            width: 100%; padding: 30px;
            background: var(--card-bg); border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.08);
            border-left: 4px solid var(--secondary-color);
            cursor: pointer; position: relative; z-index: 5;
            transform-style: preserve-3d; transform: perspective(1000px);
            transition: transform 0.1s ease, box-shadow 0.3s ease;
            backdrop-filter: blur(15px);
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        .content:hover { box-shadow: 0 0 30px rgba(0, 242, 254, 0.4); }

        .date { 
            position: absolute; top: -50px; left: 0;
            font-size: 3.5rem; font-weight: 700;
            background: linear-gradient(to right, #fff, #bbb);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            transform: translateZ(50px); letter-spacing: 2px; pointer-events: none;
            text-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }

        .icon-box { font-size: 2rem; color: var(--primary-color); margin-bottom: 15px; transform: translateZ(30px); }
        h2 { font-size: 1.8rem; margin-bottom: 10px; color: #fff; transform: translateZ(30px); }
        p { font-size: 1rem; color: #ccc; line-height: 1.6; transform: translateZ(30px); text-align: justify; }
        
        .click-hint { font-size: 0.7rem; color: #666; display: block; text-align: right; margin-top: 15px; transform: translateZ(20px); text-transform: uppercase; letter-spacing: 1px; }
        .brief-text { display: block; font-style: italic; color: var(--secondary-color); opacity: 0.8; text-align: justify; }
        .full-text { display: none; margin-top: 20px; color: #ddd; line-height: 1.8; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px; font-size: 1rem; text-align: justify; }

        /* --- MODAL --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.95); z-index: 2000;
            display: none; justify-content: center; align-items: center;
            opacity: 0; transition: opacity 0.4s ease; backdrop-filter: blur(10px);
        }
        .modal-card {
            background: linear-gradient(145deg, #2b2b36, #1e1e24); padding: 60px;
            border-radius: 20px; width: 80%; max-width: 800px;
            border-left: 6px solid var(--secondary-color);
            position: relative;
            transform: scale(0.6) translateY(50px);
            opacity: 0; transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); 
        }
        .modal-overlay.active { opacity: 1; }
        .modal-overlay.active .modal-card { transform: scale(1) translateY(0); opacity: 1; }
        .modal-card .full-text { display: block; }
        .modal-card .brief-text { display: none; }
        .modal-card .click-hint { display: none; }
        .modal-card .date {
            position: relative; top: auto; left: auto;
            font-size: 1.5rem; margin-bottom: 20px; transform: none; display: block;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .close-btn { position: absolute; top: 20px; right: 25px; font-size: 2rem; color: #666; cursor: pointer; transition: 0.2s; }
        .close-btn:hover { color: #fff; transform: rotate(90deg); }

        #scroll-ghost { display: block; width: 1px; }
        
        @media screen and (max-height: 850px) {
            .card-wrapper { height: 480px; } 
            .fixed-header h1 { font-size: 2.5rem; }
        }

        /* -------------------------------------------------------- */
        /* --- MOBILE OVERRIDES (VERTICAL LAYOUT) --- */
        /* -------------------------------------------------------- */
        @media screen and (max-width: 768px) {
            /* 1. Reset Body & Scroll */
            body { 
                overflow-y: auto; /* Allow native scroll */
                overflow-x: hidden;
            }
            #scroll-ghost { display: none; } /* Kill the fake scroll element */

            /* 2. Header becomes static */
            .fixed-header {
                position: relative;
                top: 0;
                padding: 40px 20px 20px;
                transform: none;
                height: auto;
            }
            .fixed-header h1 { font-size: 1.8rem; }
            .scroll-icon { display: none; }

            /* 3. Viewport resets */
            .viewport {
                position: relative;
                height: auto;
                width: 100%;
                overflow: visible;
                display: block;
                padding-top: 0;
            }

            /* 4. Timeline Track becomes Vertical Column */
            .timeline-track {
                position: relative;
                flex-direction: column;
                height: auto;
                width: 100%;
                padding: 0 20px 50px 20px;
                /* IMPORTANT: Override the JS inline styles */
                transform: none !important; 
            }

            /* 5. Hide Horizontal JS Line & Create Vertical CSS Line */
            .central-line { display: none; }
            
            /* Vertical Line */
            .timeline-track::before {
                content: '';
                position: absolute;
                top: 0; left: 35px; /* Position line on the left */
                width: 4px; height: 100%;
                background: linear-gradient(to bottom, var(--primary-color), var(--secondary-color));
                border-radius: 4px;
                box-shadow: 0 0 10px var(--primary-color);
            }

            /* 6. Card Wrapper Stacking */
            .card-wrapper {
                width: 100%;
                height: auto;
                margin: 0 0 50px 0; /* Vertical spacing */
                justify-content: flex-start;
                padding-left: 50px; /* Space for the line on left */
            }

            /* Reset Zig-Zag alignments */
            .card-wrapper.top, .card-wrapper.bottom { align-items: stretch; }
            
            /* Hide the connecting vertical lines used in desktop */
            .connection-line { display: none; }

            /* The Dot on the vertical line */
            .card-wrapper::after {
                left: 15px; /* Align with vertical line */
                top: 50px; /* Align with top of card */
                transform: none;
            }

            /* 7. Content Card Adjustments */
            .content {
                width: 100%;
                transform: none !important; /* Disable 3D tilt on mobile */
                padding: 25px;
            }
            
            /* Flatten 3D text elements */
            .date, .icon-box, h2, p { transform: none; }

            .date {
                position: relative;
                top: auto; left: auto;
                font-size: 1.8rem;
                margin-bottom: 10px;
                display: block;
            }

            /* Modal adjustments for mobile */
            .modal-card { width: 90%; padding: 30px; }
            .modal-card .date { font-size: 1.5rem; }
            
            /* Ensure text is readable */
            .brief-text { font-size: 0.9rem; }
        }
    </style>
</head>
<body>

    <!-- Fake scroll for Desktop only -->
    <div id="scroll-ghost"></div>

    <div class="fixed-header">
        <h1>My Media Engagement</h1>
        <p>A journey through time</p>
        <span class="scroll-icon"><i class="fas fa-chevron-down"></i></span>
    </div>

    <div class="viewport">
        <div class="timeline-track" id="track">
            
            <!-- Horizontal Line (Desktop Only) -->
            <div class="central-line"></div>

            <!-- Item 1 -->
            <div class="card-wrapper top">
                <div class="connection-line"></div>
                <div class="content tilt-card" onclick="openModal(this)">
                    <span class="date">2007 – 2009</span>
                    <div class="icon-box"><i class="fas fa-book-open"></i></div>
                    <h2>Baby to Toddler Years</h2>
                    <p class="brief-text">Coloring books, picture books, magazines</p>
                    <div class="full-text">
                        <p>During these early years, the media I interacted with were mostly traditional and very simple. Coloring books and magazines were my main sources of visual stimulation. I spent time flipping through pages filled with bright colors and drawings.</p>
                    </div>
                    <span class="click-hint">Click to Zoom</span>
                </div>
            </div>

            <!-- Item 2 -->
            <div class="card-wrapper bottom">
                <div class="connection-line"></div>
                <div class="content tilt-card" onclick="openModal(this)">
                    <span class="date">2010 – 2012</span>
                    <div class="icon-box"><i class="fas fa-tv"></i></div>
                    <h2>Early Childhood</h2>
                    <p class="brief-text">Television, cartoons, children’s shows</p>
                    <div class="full-text">
                        <p>Television became my primary media source during this stage. I regularly watched cartoons and educational programs, which served as entertainment and early learning tools. TV exposed me to stories, characters, and lessons about curiosity.</p>
                    </div>
                    <span class="click-hint">Click to Zoom</span>
                </div>
            </div>

            <!-- Item 3 -->
            <div class="card-wrapper top">
                <div class="connection-line"></div>
                <div class="content tilt-card" onclick="openModal(this)">
                    <span class="date">2013 – 2015</span>
                    <div class="icon-box"><i class="fas fa-tablet-screen-button"></i></div>
                    <h2>Introduction to New Media</h2>
                    <p class="brief-text">Tablets, smartphones, mobile games, YouTube</p>
                    <div class="full-text">
                        <p>This period marked my shift from traditional to digital media. Using tablets and smartphones, I discovered apps, games, and online videos. I learned how to navigate touchscreen devices and started browsing YouTube for entertainment.</p>
                    </div>
                    <span class="click-hint">Click to Zoom</span>
                </div>
            </div>

            <!-- Item 4 -->
            <div class="card-wrapper bottom">
                <div class="connection-line"></div>
                <div class="content tilt-card" onclick="openModal(this)">
                    <span class="date">2016 – 2017</span>
                    <div class="icon-box"><i class="fas fa-mobile-screen"></i></div>
                    <h2>Exposure to Diverse Media</h2>
                    <p class="brief-text">Smartphones, social media, movies, billboards</p>
                    <div class="full-text">
                        <p>By this time, I had my own phone, which allowed me to explore a wider range of media. I became exposed to social media platforms, regularly watched movies, and noticed various forms of advertisements such as posters and billboards.</p>
                    </div>
                    <span class="click-hint">Click to Zoom</span>
                </div>
            </div>

            <!-- Item 5 -->
            <div class="card-wrapper top">
                <div class="connection-line"></div>
                <div class="content tilt-card" onclick="openModal(this)">
                    <span class="date">2018 – 2022</span>
                    <div class="icon-box"><i class="fas fa-laptop-code"></i></div>
                    <h2>Full Digital Immersion</h2>
                    <p class="brief-text">Computer, internet browsing, gaming, social sites</p>
                    <div class="full-text">
                        <p>Having my own computer gave me unlimited access to the internet. I used it for schoolwork, hobbies, entertainment, and research. I became familiar with online communities, digital tools, and different types of online content.</p>
                    </div>
                    <span class="click-hint">Click to Zoom</span>
                </div>
            </div>

            <!-- Item 6 -->
            <div class="card-wrapper bottom">
                <div class="connection-line"></div>
                <div class="content tilt-card" onclick="openModal(this)">
                    <span class="date">2022 – 2025</span>
                    <div class="icon-box"><i class="fas fa-clapperboard"></i></div>
                    <h2>Teen to Young Adult Years</h2>
                    <p class="brief-text">Ads, streaming, short-form content</p>
                    <div class="full-text">
                        <p>As I entered my teenage years and moved toward adulthood, my engagement with media expanded even more. I was exposed to targeted ads, influencer content, streaming platforms, and fast-paced short-form videos.</p>
                    </div>
                    <span class="click-hint">Click to Zoom</span>
                </div>
            </div>

        </div>
    </div>

    <!-- MODAL -->
    <div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
        <div class="modal-card">
            <span class="close-btn" onclick="closeModalBtn()">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <!-- JAVASCRIPT -->
    <script>
        const track = document.getElementById('track');
        const ghost = document.getElementById('scroll-ghost');
        const line = document.querySelector('.central-line');
        const cardWrappers = document.querySelectorAll('.card-wrapper');
        
        function initScroll() {
            // IF MOBILE: Do nothing, let CSS handle it
            if(window.innerWidth <= 768) return;

            // 1. SCROLL SETUP
            const trackWidth = track.scrollWidth;
            const windowWidth = window.innerWidth;
            ghost.style.height = (trackWidth - windowWidth + window.innerHeight) + 'px';

            // 2. BLUE LINE GEOMETRY
            if(cardWrappers.length > 0) {
                const firstCard = cardWrappers[0];
                const lastCard = cardWrappers[cardWrappers.length - 1];
                const startX = firstCard.offsetLeft + (firstCard.offsetWidth / 2);
                const endX = lastCard.offsetLeft + (lastCard.offsetWidth / 2);
                line.style.left = startX + 'px';
                line.style.width = (endX - startX) + 'px';
            }
        }

        window.addEventListener('scroll', () => {
            // Disable JS Transform on Mobile
            if(window.innerWidth <= 768) return;

            const scrolled = window.scrollY;
            track.style.transform = `translateX(-${scrolled}px)`;
        });

        window.addEventListener('load', initScroll);
        window.addEventListener('resize', initScroll);

        // --- 3D TILT EFFECT (Desktop Only) ---
        const cards = document.querySelectorAll('.tilt-card');
        cards.forEach(card => {
            card.addEventListener('mousemove', (e) => {
                if(window.innerWidth <= 768) return; // No tilt on mobile

                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left; 
                const y = e.clientY - rect.top;
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const rotateX = ((y - centerY) / 10) * -1;
                const rotateY = (x - centerX) / 10;
                card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.05, 1.05, 1.05)`;
            });

            card.addEventListener('mouseleave', () => {
                if(window.innerWidth <= 768) return;
                card.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`;
            });
        });

        // --- MODAL LOGIC ---
        const modalOverlay = document.getElementById('modalOverlay');
        const modalContent = document.getElementById('modalContent');

        function openModal(element) {
            let contentHTML = element.innerHTML;
            modalContent.innerHTML = contentHTML;
            const icon = modalContent.querySelector('.icon-box');
            if(icon) icon.style.transform = 'none';

            modalOverlay.style.display = 'flex';
            setTimeout(() => {
                modalOverlay.classList.add('active');
            }, 10);

            document.body.style.overflowY = 'hidden'; 
        }

        function closeModal(event) {
            if (event.target === modalOverlay) closeModalAction();
        }
        function closeModalBtn() { closeModalAction(); }
        
        function closeModalAction() {
            modalOverlay.classList.remove('active');
            setTimeout(() => {
                modalOverlay.style.display = 'none';
                document.body.style.overflowY = 'scroll'; 
            }, 400); 
        }
    </script>
</body>
</html>